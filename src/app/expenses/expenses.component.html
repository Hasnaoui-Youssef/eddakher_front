<div class="overflow-x-auto rounded-lg shadow-md">
  @if(showContextMenu){
    <div
      [style.left.px]="contextMenuPosition.x"
      [style.top.px]="contextMenuPosition.y"
      class="absolute z-10 w-40 bg-white border border-gray-200 rounded shadow-md"
    >
      <button 
        class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-red-500 hover:text-white"
        (click)="deleteExpense(selectedRow)">
        supprimer 
      </button>
    </div>
  }
  <table class="min-w-full divide-y divide-gray-300">
    <thead class="bg-gray-200">
      <tr>
        @for (key of tableInfo; track $index) {
          <th scope="col" class="px-6 py-3 text-center text-sm font-medium text-gray-700 uppercase tracking-wider">
            {{ key.title }}
          </th>
        }
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      @for (item of expenses; track $index) {
        <tr class="hover:bg-gray-100"
          (contextmenu)="onRowRightClick($event, $index)">
          @for( key of tableInfo; track $index){
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-center">
              {{ (item[key.field] | json) || '-' }}
            </td>
          }
        </tr>
      }
    </tbody>
  </table>
</div>